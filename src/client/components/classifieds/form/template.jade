section(ng-class="formClasses")
  form.row(name="form", novalidate)

    .columns.admin-panel(ng-if="classified.id")
      .action.green(ng-click="changeStatus('ACTIVE')", ng-if="superEditable") Publish
      .action.red(ng-click="changeStatus('REJECTED')", ng-if="superEditable") Reject
      .action.red(ng-click="changeStatus('BANNED')", ng-if="superEditable") Ban
      //- .action.red(ng-click="classified.status = 3 && submit()", ng-if="superEditable") Promote
      //- .action.red(ng-click="classified.status = 3 && submit()", ng-if="superEditable") Demote
      .action.red(ng-click="changeStatus('ARCHIVED')") Archive this classified


    //- Title
    .columns
      div(input-text
        form-ui
        maxlength="140"
        minlength="20"
        ng-model="classified.title"
        placeholder="Title *"
        required="true"
        ng-class="{disabled: formLoading}")


    //- Description
    .columns
      div(input-textarea, form-ui
        maxlength="2000"
        minlength="50"
        ng-model="classified.description"
        placeholder="Description *"
        required="true"
        ng-class="{disabled: formLoading}")


    //- Image section 1. Here we keep the button used to add the images
    .columns
      //- This input form is used to spawn the file selector dialog
      input(type="file"
        multiple
        fn-model-file="fileChange"
        ng-disabled="formLoading").hide
      button.add-images(ng-click="addImages()") Add Images


    //- Image section 2. Here the uploaded images get displayed
    .columns.gallery
      ul.small-block-grid-2.medium-block-grid-3.large-block-grid-4
        li(data-id="{{ image.id }}",
          class="{{ image.status }}",
          ng-class="{'set-main-image': image.main }"
          ng-repeat="image in classified.images track by $index")
          div
            .action.close(ng-click="removeImage($event)") remove
            .action.main(ng-click="setmainImage($event)") main image
            img.thumb(ng-src!="{{ image.src }}")


    //- Contact section
    .columns
      .row
        .columns.medium-6
          div(input-price, form-ui
            ng-model="classified"
            placeholder="Price *"
            required="true"
            ng-class="{disabled: formLoading}")
        .columns.medium-6
          div(input-long-list, form-ui
            list="locations"
            ng-model="classified.location"
            placeholder="Location *"
            required="true"
            ng-class="{disabled: formLoading}")
        .columns.medium-6
          div(input-category, form-ui
            list="categories"
            ng-model="classified"
            placeholder="Category *"
            required="true"
            ng-class="{disabled: formLoading}")
        .columns.medium-6
          div.disabled(input-text
            form-ui
            ng-model="classified.contact.email"
            placeholder="Email *"
            required="true")
        .columns.medium-6
          div(input-text
            form-ui
            ng-model="classified.contact.name"
            placeholder="Your Name *"
            required="true")
        .columns.medium-6
          div(input-tel
            form-ui
            ng-model="classified.contact.phone"
            placeholder="Telephone"
            required="true")
        .columns.medium-6(ng-if-dis="classified.location")
          div(input-text
            form-ui
            ng-model="classified.contact.address1"
            placeholder="Address Line 1"
            required="true")
        .columns.medium-6(ng-if-dis="classified.location")
          div(input-text
            form-ui
            ng-model="classified.contact.address2"
            placeholder="Address Line 2"
            required="true")


      //- Meta attributes
      .row.meta
        .columns.large-4.medium-6
          div(input-checkbox-icon
            form-ui
            placeholder="Share on social networks"
            ng-model="classified.meta.shareSocial")
        .columns.large-4.medium-6
          div.hideEmail(input-checkbox-icon
            form-ui
            placeholder="Keep my email hidden"
            ng-model="classified.meta.hideEmail")
        .columns.large-4.medium-6
          div.delivery(input-checkbox-icon
            form-ui
            placeholder="I provide delivery"
            ng-model="classified.meta.deliveryIncluded")
        .columns.large-4.medium-6
          div.delivery(input-checkbox-icon
            form-ui
            placeholder="Delivery will be free"
            ng-model="classified.meta.freeDeliveryIncluded")
        .columns.large-4.medium-6
          div.viber(input-checkbox-icon
            form-ui
            placeholder="I am available on Viber"
            ng-model="classified.meta.viber")
        .columns.large-4.medium-6
          div.whatsapp(input-checkbox-icon
            form-ui
            placeholder="I am available on Whatsapp"
            ng-model="classified.meta.whatsapp")
        .columns.large-4.medium-6
          div.googlemaps(input-checkbox-icon
            form-ui
            placeholder="Add Google Maps"
            ng-model="form.mapsEnabled")


    //- Google Maps
    .google-maps.columns(ng-if="form.mapsEnabled",
      ng-init="drawMap()")
      label.hide-for-large-up Touch/Tap to place the marker
      label.show-for-large-up Drag and drop the marker to set the map!
      .row.collapse
        .columns
          //- This is the container which will hold the map
          #maps-container


    //- Disclaimer section
    .disclaimer.columns
        b Disclaimer:&nbsp;
        | By clicking on submit, you agree to our&nbsp;
        a(target="_self", href="/info/privacy-terms") privacy and terms of use.


    //- Google reCaptcha
    .columns
      div(google-recaptcha, ng-model="form.gcaptcha")


    //- Finally the submit button
    .columns.large-3.medium-6.end
      button.submit(ng-click="submit()") {{ formLoading ? "Submitting..." : "Submit classified" }}
