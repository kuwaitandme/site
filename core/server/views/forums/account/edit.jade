html
  body
    .account-username-box(data-userslug='{userslug}', data-uid='{uid}')
      ul.nav.nav-pills.account-sub-links
        li
          a.dropdown-toggle.inline-block(href='#', type='button', data-toggle='dropdown')
            | [[user:more]]
            span.caret
            | &#x9;&#x9;&#x9;&#x9;
            span.sr-only Toggle Dropdown
          | &#x9;&#x9;&#x9;
          ul.dropdown-menu.pull-right(role='menu')
            li
              a(href='{config.relative_path}/user/{userslug}/following')
                i.fa.fa-fw.fa-users
                |  [[user:following]]
            | &#x9;&#x9;&#x9;&#x9;
            li
              a(href='{config.relative_path}/user/{userslug}/followers')
                i.fa.fa-fw.fa-users
                |  [[user:followers]]
            | &#x9;&#x9;&#x9;&#x9;
            li.divider
            | &#x9;&#x9;&#x9;&#x9;
            li
              a(href='{config.relative_path}/user/{userslug}/topics')
                i.fa.fa-fw.fa-book
                |  [[global:topics]]
            | &#x9;&#x9;&#x9;&#x9;
            li
              a(href='{config.relative_path}/user/{userslug}/posts')
                i.fa.fa-fw.fa-pencil
                |  [[global:posts]]
            | &#x9;&#x9;&#x9;&#x9;
            li
              a(href='{config.relative_path}/user/{userslug}/groups')
                i.fa.fa-fw.fa-users
                |  [[global:header.groups]]
            // IF showHidden
            li
              a(href='{config.relative_path}/user/{userslug}/favourites')
                i.fa.fa-fw.fa-heart
                |  [[user:favourites]]
            | &#x9;&#x9;&#x9;&#x9;
            li
              a(href='{config.relative_path}/user/{userslug}/watched')
                i.fa.fa-fw.fa-eye
                |  [[user:watched]]
            // ENDIF showHidden
            // BEGIN profile_links
            li.plugin-link.IF.ELSE.ENDIF(id='{profile_links.id}', class='<!-- profile_links.public -->public<!-- -->private<!-- profile_links.public -->')
              a(href='{config.relative_path}/user/{userslug}/{profile_links.route}')
                i.fa.fa-fw(class='{profile_links.icon}')
                |  {profile_links.name}
            // END profile_links
        | &#x9;&#x9;
        li
          a#profile.inline-block(href='{config.relative_path}/user/{userslug}')
            i.fa.fa-user
            |  [[user:profile]]
        // IF showHidden
        li
          a(href='{config.relative_path}/user/{userslug}/settings')
            i.fa.fa-gear
            |  [[user:settings]]
        | &#x9;&#x9;
        li
          a(href='{config.relative_path}/user/{userslug}/edit')
            i.fa.fa-pencil-square-o
            |  [[user:edit]]
        // ENDIF showHidden
    .account
      .row
        .col-md-2(style='text-align: center; margin-bottom:20px;')
          .account-picture-block.text-center
            img#user-current-picture.user-profile-picture.img-thumbnail(src='{picture}')
            br
            br
            | &#x9;&#x9;&#x9;&#x9;
            a#changePictureBtn.btn.btn-primary(href='#') [[user:change_picture]]
            | &#x9;&#x9;&#x9;&#x9;
            br
            br
            // IF config.allowAccountDelete
            // IF isSelf
            a#deleteAccountBtn.btn.btn-danger(href='#') [[user:delete_account]]
            br
            br
            // ENDIF isSelf
            // ENDIF config.allowAccountDelete
            // IF config.requireEmailConfirmation
            // IF email
            // IF isSelf
            a#confirm-email.btn.btn-warning.IF.ENDIF(href='#', class='<!-- email:confirmed -->hide<!-- email:confirmed -->') [[user:confirm_email]]
            // ENDIF isSelf
            // ENDIF email
            // ENDIF config.requireEmailConfirmation
        | &#x9;&#x9;
        .col-md-5
          div
            form.form-horizontal
              .control-group
                label.control-label(for='inputUsername') [[user:username]]
                | &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;
                .controls
                  input#inputUsername.form-control(type='text', placeholder='[[user:username]]', value='{username}')
              | &#x9;&#x9;&#x9;&#x9;&#x9;
              .control-group
                label.control-label(for='inputEmail') [[user:email]]
                | &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;
                .controls
                  input#inputEmail.form-control(type='text', placeholder='[[user:email]]', value='{email}')
              | &#x9;&#x9;&#x9;&#x9;&#x9;
              .control-group
                label.control-label(for='inputFullname') [[user:fullname]]
                | &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;
                .controls
                  input#inputFullname.form-control(type='text', placeholder='[[user:fullname]]', value='{fullname}')
              | &#x9;&#x9;&#x9;&#x9;&#x9;
              .control-group
                label.control-label(for='inputWebsite') [[user:website]]
                | &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;
                .controls
                  input#inputWebsite.form-control(type='text', placeholder='http://...', value='{website}')
              | &#x9;&#x9;&#x9;&#x9;&#x9;
              .control-group
                label.control-label(for='inputLocation') [[user:location]]
                | &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;
                .controls
                  input#inputLocation.form-control(type='text', placeholder='[[user:location]]', value='{location}')
              | &#x9;&#x9;&#x9;&#x9;&#x9;
              .control-group
                label.control-label(for='inputBirthday') [[user:birthday]]
                | &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;
                .controls
                  input#inputBirthday.form-control(value='{birthday}', placeholder='yyyy-mm-dd')
              | &#x9;&#x9;&#x9;&#x9;&#x9;
              .control-group
                label.control-label(for='inputAboutMe') [[user:aboutme]]
                |  
                small
                  label#aboutMeCharCountLeft
                | &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;
                .controls
                  textarea#inputAboutMe.form-control(rows='5') {aboutme}
              // IF !disableSignatures
              .control-group
                label.control-label(for='inputSignature') [[user:signature]]
                |  
                small
                  label#signatureCharCountLeft
                | &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;
                .controls
                  textarea#inputSignature.form-control(rows='5') {signature}
              // ENDIF !disableSignatures
              input#inputUID(type='hidden', value='{uid}')
              br
              | &#x9;&#x9;&#x9;&#x9;&#x9;
              .form-actions
                a#submitBtn.btn.btn-primary(href='#') [[global:save_changes]]
          | &#x9;&#x9;&#x9;
          hr.visible-xs.visible-sm
        | &#x9;&#x9;
        .col-md-5
          div(style='vertical-align:top;')
            form.form-horizontal
              // IF isSelf
              .control-group
                label.control-label(for='inputCurrentPassword') [[user:current_password]]
                | &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;
                .controls
                  input#inputCurrentPassword.form-control(autocomplete='off', type='password', placeholder='[[user:current_password]]', value='', <!--='', if='', !haspassword='', --='')
                  |  disabled
                  // ENDIF !hasPassword
                  | &gt;
              // ENDIF isSelf
              .control-group
                label.control-label(for='inputNewPassword') [[user:password]]
                | &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;
                .input-group
                  input#inputNewPassword.form-control(type='password', placeholder='[[user:password]]', value='')
                  | &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;
                  span.input-group-addon
                    span#password-notify
                      i.fa.fa-circle-o
              | &#x9;&#x9;&#x9;&#x9;&#x9;
              .control-group
                label.control-label(for='inputNewPasswordAgain') [[user:confirm_password]]
                | &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;
                .input-group
                  input#inputNewPasswordAgain.form-control(type='password', placeholder='[[user:confirm_password]]', value='')
                  | &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;
                  span.input-group-addon
                    span#password-confirm-notify
                      i.fa.fa-circle-o
              | &#x9;&#x9;&#x9;&#x9;&#x9;
              br
              | &#x9;&#x9;&#x9;&#x9;&#x9;
              .form-actions
                a#changePasswordBtn.btn.btn-primary(href='#')
                  i.hide.fa.fa-spinner.fa-spin
                  |  [[user:change_password]]
      | &#x9;
      #change-picture-modal.modal.fade(tabindex='-1', role='dialog', aria-labelledby='[[user:change_picture]]', aria-hidden='true')
        .modal-dialog
          .modal-content
            .modal-header
              button.close(type='button', data-dismiss='modal', aria-hidden='true') &times;
              | &#x9;&#x9;&#x9;&#x9;&#x9;
              h3#myModalLabel [[user:change_picture]]
            | &#x9;&#x9;&#x9;&#x9;
            .modal-body
              #gravatar-box
                img#user-gravatar-picture.img-thumbnail.user-profile-picture(src='')
                | &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;
                span.user-picture-label [[user:gravatar]]
                | &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;
                i.fa.fa-check.fa-2x
              | &#x9;&#x9;&#x9;&#x9;&#x9;
              br
              // IF config.allowProfileImageUploads
              #uploaded-box
                img#user-uploaded-picture.img-thumbnail.user-profile-picture(src='')
                | &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;
                span.user-picture-label [[user:uploaded_picture]]
                | &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;
                i.fa.fa-check.fa-2x
              | &#x9;&#x9;&#x9;&#x9;&#x9;
              a#uploadPictureBtn(href='#') [[user:upload_new_picture]]
              |  
              br
              // IF config.hasImageUploadPlugin
              a#uploadFromUrlBtn(href='#') [[user:upload_new_picture_from_url]]
              // ENDIF config.hasImageUploadPlugin
              // ENDIF config.allowProfileImageUploads
            | &#x9;&#x9;&#x9;&#x9;
            .modal-footer
              button.btn.btn-default(data-dismiss='modal', aria-hidden='true') [[global:close]]
              | &#x9;&#x9;&#x9;&#x9;&#x9;
              button#savePictureChangesBtn.btn.btn-primary [[global:save_changes]]
          // /.modal-content
        // /.modal-dialog
      // /.modal
      #upload-picture-from-url-modal.modal.fade(tabindex='-1', role='dialog', aria-labelledby='Upload Picture From Url', aria-hidden='true')
        .modal-dialog
          .modal-content
            .modal-header
              button.close(type='button', data-dismiss='modal', aria-hidden='true') &times;
              | &#x9;&#x9;&#x9;&#x9;&#x9;
              h3 [[user:upload_picture]]
            | &#x9;&#x9;&#x9;&#x9;
            .modal-body
              input#uploadFromUrl.form-control(type='text')
            | &#x9;&#x9;&#x9;&#x9;
            .modal-footer
              button.btn.btn-default(data-dismiss='modal', aria-hidden='true') Close
              | &#x9;&#x9;&#x9;&#x9;&#x9;
              button.btn.btn-primary.upload-btn [[user:upload_picture]]
    input(type='hidden', template-variable='yourid', value='{yourid}')
    input(type='hidden', template-variable='theirid', value='{theirid}')
    input(type='hidden', template-variable='userslug', value='{userslug}')
    input(type='hidden', template-variable='gravatarpicture', value='{gravatarpicture}')
    input(type='hidden', template-variable='uploadedpicture', value='{uploadedpicture}')
